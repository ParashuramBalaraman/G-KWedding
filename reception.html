<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>RSVP</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- normalize css -->
        <link rel = "stylesheet" href = "resources/normalize.css">
        <!-- font -->
        <link rel = "stylesheet" href = "resources/font.css">
        <!-- animate css -->
        <link rel = "stylesheet" href = "resources/animate.css-main/animate.css">
        <!-- custom (main) css -->
        <link rel="stylesheet" href="css/main.css">
        <!-- multiple dropdown -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/habibmhamadi/multi-select-tag@2.0.1/dist/css/multi-select-tag.css">
    </head>
    
    <body>
    
        <!-- Details section -->
        <section class = "testimonial" id = "details" style="background-image: linear-gradient(rgba(132, 163, 168, 0.5), rgba(132, 163, 168, 1)), url(../assets/markovina.jpg);">
            <div class = "container">
            <div class = "title">
                <h3 class = "wow animate__animated animate__bounceIn animate__slow">The reception will be at</h3>
                <h2 class = "wow animate__animated animate__bounceIn animate__slow">Markovina Vineyard Estate</h2>
                <p class = "text">84 Old Railway Road, KumeÅ« 0892</p>
            </div>
        
            <div>
                <div class = "testimonial-item">
                <iframe src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d12782.927366664784!2d174.5755!3d-36.777!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6d0d15a54cb8aaff%3A0xd3d93a9e9316b477!2sMarkovina%20Vineyard%20Estate!5e0!3m2!1sen!2snz!4v1702273032887!5m2!1sen!2snz" 
                width="70%" height="450rem" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                <p style="font-size: medium; font-style: oblique; font-weight: bold;"> We would love you to join us in celebrating the marriage at our reception on the 8th of June.</p>
                <p style="padding-top:2%; font-size: medium;">The dress code for the reception is Western or Indian formal. 
                    And there will be plenty of parking available at the venue. 
                </p>
                <span style="font-size: large;">Please ensure you arrive at the venue at 4.00pm.</span>
                </div>
            </div>
            </div>
        </section>
        <!-- end of details section -->
        
        <!-- rsvp section -->
        <section class = "contact" id = "rsvp">
            <div class = "container" style="color: var(--black);"> <!-- making the text black for the entire section-->
            <div class = "title" >
                <h2 class = "wow animate__animated animate__bounceIn animate__slow">RSVP</h2>
                <p class = "text">RSVP for the reception</p>
            </div>
            <div class = "row wow animate__animated animate__fadeInUp animate__slow" style="padding-top: 0;">
                <div class = "contact-left">
                <h1 style="font-size:x-large;">RSVP Here</h1>
                <form id = "rsvpReception" method= "post" action="/reception" onsubmit="showNotification(event)">
                    <label for = "attendees">Who Is Attending</label>
                <select name="attendees" id="guests" multiple>

                    <option value="Mani Uncle">Mani Uncle</option>

                    <option value="Mum">Sam Pearson</option>
                    <option value="Dad">Tony Pearson</option>

                    <option value="Lucy">Lucy Pearson</option>
                    <option value="Scott">Scott Johnson</option>
                    <option value="Gareth">Gareth Pearson</option>
                    <option value="Jess">Jess Pearson</option>
                    <option value="Isaac">Isaac Pearson</option>
                    <option value="Baby2">Oscar Pearson</option>
                    <option value="Lewis">Lewis Pearson</option>
                    <option value="Mel">Melanie Rose</option>

                    <option value="Amma">Sumathy Sathiamoorthy</option>
                    <option value="Patchu">Parashuram Balaraman</option>
                    <option value="Ammamma">Ammamma</option>

                    <option value="Periamma">Gomathy Kokulan</option>
                    <option value="Periappa">Kokulan Narasingham</option>
                    <option value="Ishan">Ishan Kokulan</option>
                    <option value="Disha">Disha Gomathinayagam</option>

                    <option value="Mama">Gobinathan Sathiamoorthy</option>
                    <option value="Mami">Aarthi Gobinathan</option>
                    <option value="Athith">Athith Gobinathan</option>
                    <option value="Aravinth">Aravinth Gobinathan</option>
                    <option value="Aniruth">Aniruth Gobinathan</option>

                    <option value="Kola Periamma">Kola Nithi</option>
                    <option value="Nithi Periappa">Nithi Balasubramaniam</option>

                    <option value="Udhayan Mama">Udhayan Siva</option>
                    <option value="Shamini Mami">Shamini Udhayakumar</option>
                    <option value="Abishek">Abishek Udhayakumar</option>

                    <option value="Mayuran Mama">Mayuran Sathiabalan</option>
                    <option value="Shanthi Mami">Shanthi Mayuran</option>
                    <option value="Sivakami">Sivakami Mayuran</option>
                    <option value="Balaji">Balaji Mayuran</option>

                    <option value="Arundha Aunty">Arundha Anandhabavan</option>
                    <option value="Anandhan Uncle">Anandhan Anandhabavan</option>

                    <option value="Jala Periamma">Jala Easwaran</option>
                    <option value="Easan Periappa">Easan Easwaran</option>
                    <option value="Mathura">Mathura Easwaran</option>

                    <option value="Giri Uncle">Giri Ghiridharan</option>
                    <option value="Sumathy Aunty">Sumathy Ghiridharan</option>
                    <option value="Praveen">Praveen Ghiridharan</option>
                    <option value="Varun">Varun Ghiridharan</option>
                    
                    <option value="Victor Uncle">Victor Seberatnam</option>
                    <option value="Chooty Aunty">Chooty Seberatnam</option>
                    <option value="Jesh">Jesh Seberatnam</option>
                    <option value="Gabby">Gabby Seberatnam</option>

                    <option value="Sasi Uncle">Sasi Sasikumar</option>
                    <option value="Kanna Aunty">Kanna Sasikumar</option>
                    <option value="Asha">Asha Sasikumar</option>
                    <option value="Aakash">Aakash Sasikumar</option>
                    <option value="Maheshwari Aunty">Maheshwari Aunty</option>

                    <!-- Check Last names -->
                    <option value="Vijiyan Uncle">Vijiyan Senthuvijiyan</option> 
                    <option value="Shankari Aunty">Shankari Senthuvijiyan</option>
                    <option value="Diviyan">Diviyan Senthuvijiyan</option>

                    <option value="Brian Uncle">Brian Rodricks</option>
                    <option value="Dushi Aunty">Dushi Rodricks</option>
                    <option value="Nishanth">Nishanth Rodricks</option>
                    <option value="Prashanth Anna">Prashanth Rodricks</option>
                    <option value="Akshita Akka">Akshita Prashanth</option>

                    <!--Check Last Names-->
                    <option value="Nithi Uncle">Nithi Nithyanantham</option>
                    <option value="Gowri Aunty">Gowri Nithyananthan</option>

                    <option value="Ragu Uncle">Ragu Ragunathan</option>
                    <option value="Kavitha Aunty">Kavitha Ragunathan</option>
                    <option value="Divesh">Divesh Ragunathan</option>
                    <option value="Dilshan">Dilshan Ragunathan</option>

                    <option value="Umasuthan Uncle">Suthan Umasuthan</option>
                    <option value="Shamini Aunty">Shamini Umasuthan</option>
                    <option value="Rishi">Rishi Umasuthan</option>

                    <option value="Kamshi">Kamshi Umasuthan</option>
                    <option value="AJ (Kamshi)">AJ Sridaran</option>

                    <option value="Thevaki Aunty">Thevaki Edwards</option>
                    <option value="Gaya">Gaya Edwards</option>

                    <option value="Sabrin Aunty">Sabrin Hafeez</option>
                    <option value="Hafeez Uncle">Hafeez Hafeez</option>

                    <option value="Nimalan Uncle">Nimalan Narasingham</option>
                    <option value="Suganthi Aunty">Suganthi Nimalan</option>

                    <option value="Kalaivany Aunty">Kalaivany Ganeshamoorthy</option>

                    <option value="Sridhar Uncle">Sridhar Rajaram</option>
                    <option value="Venugopal Uncle">Venugopal S.P.</option>

                    <option value="Jey">Jey Jeyaseelan</option>
                    <option value="Kaylah">Kaylah McBirney</option>
                    <option value="Lucy (Friend)">Lucy Qiu</option>
                    <option value="Olivia">Olivia Pottor</option>
                    <option value="Connor">Connor Blair</option>
                    <option value="AJ">AJ Hawkins</option>
                    <option value="Riki-Lee">Riki-Lee Waititi-Unsworth</option>
                    <option value="Miffy">Miffy Barling</option>
                    <option value="Bilal">Bilal Nasier</option>
                    <option value="Kasey">Kasey Nasier</option>
                    <option value="Liam">Liam Polglase</option>
                    <option value="Katie">Annaliese Wheat</option>
                    <option value="Jade">Jade Anderson</option>
                    <option value="Javiera">Javiera Sanchez</option>
                    <option value="Sophie">Sophie Richards</option>
                    <option value="Linda">Linda Duong</option>
                    <option value="Holly">Holly Milton</option>
                    <!-- <option value="Brooke">Brooke Armstrong</option>
                    <option value="Zoe">Zoe Henry</option>
                    <option value="Vera">Vera Lee</option> > -->

                    <option value="Ben A">Ben Allison</option>
                    <option value="Emily">Emily Coe</option>
                    <option value="Ben B">Ben Wakelin</option>
                    <option value="Eran">Eran Waldeck</option>
                    <option value="Hamish">Hamish Armour</option>
                    <option value="Rochelle">Rochelle Dafel</option>
                    <option value="Joe">Joe Speirs</option>
                    <option value="Nat">Nat Wellstead</option>
                    <option value="Alice">Alice Wellstead</option>
                    <option value="Eli">Eli Wellstead</option>
                    <option value="Maddie">Maddie Hearn</option>
                    <option value="Pete">Pete Cable</option>
                    <option value="Nikki">Nikki Sinclair</option>
                    <option value="Mike">Mike Armour</option>
                </select>
                <script src="https://cdn.jsdelivr.net/gh/habibmhamadi/multi-select-tag@2.0.1/dist/js/multi-select-tag.js"></script>
                <script>
                    new MultiSelectTag('guests')
                </script>
                    <input type = "text" class = "form-control" name = "requirements" placeholder="Dietary requirements">
                    <input type = "text" class = "form-control" name = "phone" placeholder="Phone number", required>
                    <button type = "submit" class = "submit-btn">Send Now</button>
                </form>


                </div>
                <div class = "contact-right">
                <h1 style="font-size:x-large;">Alternatively you can RSVP by:</h1>
                <div >
                    <h2>Sending an Email</h2>
                    <p class = "text">gavinkaviya@gmail.com</p>
                </div>
                </div>
            </div>
            </div>
        </section>
        <!-- end of rsvp section --> 

        <div id="customConfirm" class="modal">
            <div class="modal-content">
                <div id="confirmMessage" style="font-family: 'Hind Siliguri', sans-serif; font-weight: bold;"></div>
                <div class="modal-footer">
                    <button id="confirmYes" class="confirm-leave">Return to main page</button>
                    <button id="confirmNo" class="confirm-stay">Stay on reception page</button>
                </div>
            </div>
        </div>

        <script>
            function showNotification(event) {
                event.preventDefault();
                const form = document.getElementById('rsvpReception');
                const modal = document.getElementById('customConfirm');
                const confirmLeave = document.getElementsByClassName('confirm-leave')[0];
                const confirmStay = document.getElementsByClassName('confirm-stay')[0];
                const confirmMessage = document.getElementById('confirmMessage');

                confirmMessage.innerHTML = '<h2>Thank you for RSVPing to the reception!</h2><p>We look forward to seeing you on the 8th of June.</p>';
                modal.style.display = 'block';
        
                confirmLeave.onclick = function() {
                    modal.style.display = 'none';
                    submitFormAndRedirect(form, "/");
                }

                confirmStay.onclick = function() {
                    modal.style.display = 'none';
                    submitFormAndRedirect(form, "/reception");
                }
        
                window.onclick = function(event) {
                    if (event.target == modal) {
                        modal.style.display = 'none';
                    }
                }
            }

            function submitFormAndRedirect(form, url) {
                const formData = new FormData(form);
                let formDataString = '';
                formData.forEach((value, key) => {
                    formDataString += `${key}: ${value}\n`;
                });
                fetch(form.action, {
                    method: 'POST',
                    body: new URLSearchParams(formData),
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded'
                    }
                })
                .then(response => {
                    if (response.ok) {
                        window.location.href = url;
                    } else {
                        console.error("Form submission failed:", response.statusText);
                    }
                })
                .catch(error => {
                    console.error("Form submission error:", error);
                });
            }
          </script>
    </body>
</html>